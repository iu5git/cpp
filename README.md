# 8 - Ввод, сортировка и двоичный поиск в массиве структур <!-- omit in toc -->

> Лабораторная работа 8 для студентов курса "Основы программирования" 1 курса кафедры ИУ5 МГТУ им Н.Э. Баумана.

## Содержание

- [Содержание](#содержание)
- [Цель работы](#цель-работы)
- [Начало работы](#начало-работы)
- [Задание](#задание)
- [Указания по выполнению лабораторной работы](#указания-по-выполнению-лабораторной-работы)

## Цель работы

Работа со структурами и массивами структур. Закрепление полученных навыков программирования на С++

- Более подробно познакомиться со структурами.
- Работать с файлами и c-style строками, используя файловые потоки ввода/вывода и строковые функции;
- Закреплить навыки сортировки, поиска (бинарного и линейного)
- Освоить навыки работы с CMake.

## Начало работы

Зайдите в свою локальную директорию с репозиторием для выполнения лабораторных работ. Заберите ветку с соответствующей лабораторной работой из общего репозитория (в лабораторной работе 0 был отмечен меткой upstream):

```sh
git pull upstream
```

**или**

```sh
git pull upstream lab_8
```

Переключитесь на ветку с текущей лабораторной работой:

```sh
git checkout lab_8
```

Свяжите ветку локального репозитория с вашим удаленным репозиторием:

```sh
git push --set-upstream origin lab_8
```

## Задание

Англо-русский словарь построен в виде массива структур Dictionary. Структура содержит английское слово и соответствующее ему русское слово. Для хранения записей словаря необходимо использовать динамический массив.

Разработать программу, которая:

- обеспечивает формирование словаря (добавление и удаление записей);
- записывает словарь, отсортированный по английским значениям слов, в файл;
- обеспечивает просмотр словаря;
- выполняет перевод слов с английского на русский, используя для поиска слова в словаре метод двоичного поиска в отсортированном массиве;
- выполняет перевод слов с русского на английский, используя для поиска слов в словаре метод перебора;
- Программа должна обеспечивать диалог с помощью меню.

**Начальное число слов в словаре (в файле dictionary.txt) равно 10.**
Предусмотреть  возможность создания нового словаря, если файл с именем dictionary.txt отсутствует.

Для исключения проблем, связанных с вводом кириллицы, вводите русские слова латинскими буквами, например: `kot` (`cat`), `sobaka` (`dog`) и т.п.

## Указания по выполнению лабораторной работы

*I. Определение состава и способа представления исходных данных, результатов и промежуточных данных*

Pазмер словаря неограничен. Вам необходимо использовать динамический массив для хранения записей словаря. Также на длину слова не устанавливается ограничений. Поэтому для хранения записей словаря в оперативной памяти (ОП) можно использовать структуру `Dictionary`:

```cpp
struct Dictionary {
    char *engl;    // слово по-английски
    char *rus;     // слово по-русски
};
```

Словарь хранится в текстовом файле. Элементы массива структур `Dictionary` будем записывать в файл последовательно, начиная с нулевого. При этом поля структуры записываются в виде отдельных строк, т.е. каждое слово должно заканчиваться символом `\0`.

*II. Разработка алгоритма решения задачи*

При программировании этой задачи уделим дополнительное внимание разбиению на функции и спецификации их интерфейсов. Например, логично оформить в виде функции каждую операцию со словарем (формирование, поиск, добавление и удаление элемента), поскольку они представляют собой законченные действия.

Будем исходить из того, что все функции должны быть независимы, чтобы изменения в одной функции не могли влиять на поведение другой. Для этого всё, что функциям необходимо получать извне, будем передавать им через параметры.

Прежде всего определим интерфейс нашей программы. В соответствии с заданием, кажется логичным предоставить пользователю следующие возможности:

0. Чтение словаря из файла; при отсутствии файла создаётся новый пустой словарь.

1. Добавление слов в словарь.

2. Удаление слов из словаря.

3. Перевод слов с английского языка на русский.

4. Перевод слов с русского языка на английский.

5. Просмотр словаря (вывод словаря, хранящегося в оперативной памяти, на экран).

6. Запись словаря в файл.

7. Завершение работы программы.

*III. Кодирование и тестовые примеры*

В этой работе удобно использовать технологию создания программы "сверху вниз": сначала отладить главную функцию, а затем постепенно добавлять к ней остальные. На месте еще не добавленных функций обычно ставятся так называемые "заглушки" (функции без реализации). Данные функции для отладки могут отображать в консоли информационное сообщение о том, что эти функции были вызваны.
